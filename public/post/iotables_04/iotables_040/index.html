<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 3.2.0">
  <meta name="generator" content="Hugo 0.53" />
  <meta name="author" content="Daniel Antal, CFA">

  
  
  
  
    
  
  <meta name="description" content="The United Kingdom Input-Output Analytical Tables 2010 are used for testing the iotables package, because they are well-documented and detailed, organized data is available with them. The analytical tables are published in an Excel table. A special reader function (which is not exported) was created to read-in all sheets of the Excel table.
It is unlikely that these tables will be required by other purposes than controlling the package.">

  
  <link rel="alternate" hreflang="en-us" href="/post/iotables_04/iotables_040/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#2962ff">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous">
        
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono">
  

  <link rel="stylesheet" href="/styles.css">
  

  
  
  

  
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Daniel Antal, CFA">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="Daniel Antal, CFA">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/post/iotables_04/iotables_040/">

  
  
  
  
    
    
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@antaldaniel">
  <meta property="twitter:creator" content="@antaldaniel">
  
  <meta property="og:site_name" content="Daniel Antal, CFA">
  <meta property="og:url" content="/post/iotables_04/iotables_040/">
  <meta property="og:title" content="United Kingdom Input-Output Analyitcal Tables | Daniel Antal, CFA">
  <meta property="og:description" content="The United Kingdom Input-Output Analytical Tables 2010 are used for testing the iotables package, because they are well-documented and detailed, organized data is available with them. The analytical tables are published in an Excel table. A special reader function (which is not exported) was created to read-in all sheets of the Excel table.
It is unlikely that these tables will be required by other purposes than controlling the package."><meta property="og:image" content="/img/portrait.jpg">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2019-01-04T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2019-01-04T00:00:00&#43;00:00">
  

  

  

  <title>United Kingdom Input-Output Analyitcal Tables | Daniel Antal, CFA</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Daniel Antal, CFA</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#publications_selected">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/usecase/">
            
            <span>Use Cases</span>
            
          </a>
        </li>

        
        

      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1 itemprop="name">United Kingdom Input-Output Analyitcal Tables</h1>

  

  
    

<div class="article-metadata">

  
  
  <span itemscope itemprop="author" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Daniel Antal, CFA">
  </span>
  

  <span class="article-date">
    
    <meta content="2019-01-04 00:00:00 &#43;0000 UTC" itemprop="datePublished">
    <time datetime="2019-01-04 00:00:00 &#43;0000 UTC" itemprop="dateModified">
      2019-01-04
    </time>
  </span>
  <span itemscope itemprop="publisher" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Daniel Antal, CFA">
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    8 min read
  </span>
  

  
  

  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=United%20Kingdom%20Input-Output%20Analyitcal%20Tables&amp;url=%2fpost%2fiotables_04%2fiotables_040%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2fpost%2fiotables_04%2fiotables_040%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-facebook-f"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fpost%2fiotables_04%2fiotables_040%2f&amp;title=United%20Kingdom%20Input-Output%20Analyitcal%20Tables"
         target="_blank" rel="noopener">
        <i class="fab fa-linkedin-in"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2fpost%2fiotables_04%2fiotables_040%2f&amp;title=United%20Kingdom%20Input-Output%20Analyitcal%20Tables"
         target="_blank" rel="noopener">
        <i class="fab fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=United%20Kingdom%20Input-Output%20Analyitcal%20Tables&amp;body=%2fpost%2fiotables_04%2fiotables_040%2f">
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    















  
</div>



  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      
<script src="/rmarkdown-libs/kePrint/kePrint.js"></script>


<p>The <a href="https://webarchive.nationalarchives.gov.uk/20160114044923/http://www.ons.gov.uk/ons/rel/input-output/input-output-analytical-tables/2010/index.html">United Kingdom Input-Output Analytical Tables 2010</a> are used for testing the <code>iotables</code> package, because they are well-documented and detailed, organized data is available with them. The analytical tables are published in an Excel table. A special reader function (which is not exported) was created to read-in all sheets of the Excel table.</p>
<p>It is unlikely that these tables will be required by other purposes than controlling the package. The UK IO tables for other years are available these are consistent with different Blue Books and there could therefore be important methodological and classification changes. Furthermore, ONS currently publishes ESA2010 compatible SIOTs with analytical tables annually.</p>
<pre class="r"><code>uk_2010_data &lt;- iotables_download ( source = &quot;uk_2010&quot; )
save ( uk_2010_data, file = file.path(&#39;data-raw&#39;, &#39;uk_2010_data.rda&#39;))
uk_test_results &lt;- iotables:::uk_2010_results_get ()
#saved as package data</code></pre>
<p>For the actual symmetric input-output table (see ) you can use the download function originally designed for the Eurostat bulk downloader.</p>
<pre class="r"><code>uk_siot              &lt;- iotable_get ( labelled_io_data = uk_2010_data, 
                                    source = &quot;uk_2010_siot&quot; )
uk_published_coeff   &lt;- iotable_get ( labelled_io_data = uk_2010_data, 
                                    source = &quot;uk_2010_siot&quot; )
uk_published_inverse &lt;- iotable_get ( labelled_io_data = uk_2010_data, 
                                    source = &quot;uk_2010_siot&quot; )</code></pre>
<div id="matrix-of-coefficients" class="section level2">
<h2>Matrix of Coefficients</h2>
<p>The matrix of coefficients is described on page 14-15 and the data can be found in the <em>Matrix of coefficients (product by product) sheet</em> of the Excel file.</p>
<pre class="r"><code>uk_input_coeff &lt;- input_coefficient_matrix_create( 
                      data_table = uk_siot)
#&gt; Warning in coefficient_matrix_create(data_table = data_table, total =
#&gt; &quot;output&quot;, : Parameter return_part=&#39;products&#39; was not recognized, returned
#&gt; all data.
uk_coeff_published &lt;- select (uk_input_coeff, 1 ) %&gt;%
  left_join ( ., mutate_if( iotable_get ( labelled_io_data = uk_2010_data, 
                               source = &quot;uk_2010_coeff&quot; ), 
                            is.factor, as.character), 
              by = &quot;prod_na&quot;)

test_that(&quot;correct data is returned&quot;, {
  expect_equal(round(uk_input_coeff[,2:8], 8),
               round(uk_coeff_published  [,2:8], 8)) })</code></pre>
<p>Comparing the first 7 columns of the two coefficient matrixes at 8 decimal point precision they are equal. Given the size of the matrixes, not all the matrix is compared here, but such a comparison can be made. However, it is not necessary, because the latter results would show a deviation if parts of the matrix would be different.</p>
</div>
<div id="leontieff-inverse" class="section level2">
<h2>Leontieff-inverse</h2>
<p>The Leontieff-inverse is described on pages 16-17 of the article. Again, comparing the first seven numerical columns at 8 digit precision we see that the re-calculated inverse and the published inverse is the same.</p>
<pre class="r"><code>uk_calculated_inverse &lt;- leontieff_inverse_create(uk_input_coeff)
uk_published_inverse &lt;- select (uk_calculated_inverse, 1 ) %&gt;%
  left_join ( ., mutate_if( iotable_get ( labelled_io_data = uk_2010_data, 
                               source = &quot;uk_2010_inverse&quot; ), 
                            is.factor, as.character), 
              by = &quot;prod_na&quot;)

test_that(&quot;correct data is returned&quot;, {
  expect_equal(round(uk_calculated_inverse[,2:8], 8),
               round(uk_published_inverse  [,2:8], 8)) })</code></pre>
</div>
<div id="employment-cost-effects" class="section level2">
<h2>Employment cost effects</h2>
<pre class="r"><code>employment_effect_results &lt;- uk_test_results %&gt;%
  select ( uk_row_label, `Employment cost effects`)

primary_inputs_uk &lt;- coefficient_matrix_create(data_table  = uk_siot, 
                                               total       = &#39;output&#39;, 
                                               return_part = &#39;primary_inputs&#39;)

employment_input &lt;- filter (primary_inputs_uk , prod_na == &quot;D1&quot;)

employment_effects &lt;- direct_effects_create( employment_input, uk_calculated_inverse ) %&gt;%
  gather ( prod, values, !!2:ncol(.)) %&gt;%
  mutate ( prod_na = prod ) %&gt;%
  select ( -prod ) %&gt;%
  left_join ( select ( metadata_uk_2010, prod_na, uk_row_label  ), 
              by = &#39;prod_na&#39;) %&gt;%
  left_join ( employment_effect_results, by = &#39;uk_row_label&#39; ) %&gt;%
  filter ( !is.na(uk_row_label )) %&gt;%
  select ( prod_na, uk_row_label, values, `Employment cost effects`)


iotables:::create_knitr_table (
      data_table =  employment_effects[1:10,], digits = 4,
      caption = &quot;Comparison of Calculated And Published Employment Cost Effects&quot;, 
      col.names = c(&quot;industry code&quot;, &quot;row label&quot;, &quot;calculated&quot;, &quot;published&quot;), 
      col_width = c(2,11,3,3))</code></pre>
<table class="table table-striped table-hover table-condensed" style="margin-left: auto; margin-right: auto;">
<caption>
(#tab:compare_effects)Comparison of Calculated And Published Employment Cost Effects
</caption>
<thead>
<tr>
<th style="text-align:left;">
industry code
</th>
<th style="text-align:center;">
row label
</th>
<th style="text-align:center;">
calculated
</th>
<th style="text-align:center;">
published
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_01
</td>
<td style="text-align:center;width: 11cm; ">
Products of agriculture, hunting and related services
</td>
<td style="text-align:center;width: 3cm; ">
0,3682
</td>
<td style="text-align:center;width: 3cm; ">
0,3682
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_02
</td>
<td style="text-align:center;width: 11cm; ">
Products of forestry, logging and related services
</td>
<td style="text-align:center;width: 3cm; ">
0,4683
</td>
<td style="text-align:center;width: 3cm; ">
0,4683
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_03
</td>
<td style="text-align:center;width: 11cm; ">
Fish and other fishing products; aquaculture products; support services to fishing
</td>
<td style="text-align:center;width: 3cm; ">
0,2234
</td>
<td style="text-align:center;width: 3cm; ">
0,2234
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_05
</td>
<td style="text-align:center;width: 11cm; ">
Coal and lignite
</td>
<td style="text-align:center;width: 3cm; ">
0,4644
</td>
<td style="text-align:center;width: 3cm; ">
0,4644
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_06-07
</td>
<td style="text-align:center;width: 11cm; ">
Crude petroleum and natural gas &amp; Metal ores
</td>
<td style="text-align:center;width: 3cm; ">
0,1657
</td>
<td style="text-align:center;width: 3cm; ">
0,1657
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_08
</td>
<td style="text-align:center;width: 11cm; ">
Other mining and quarrying products
</td>
<td style="text-align:center;width: 3cm; ">
0,4305
</td>
<td style="text-align:center;width: 3cm; ">
0,4305
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_09
</td>
<td style="text-align:center;width: 11cm; ">
Mining support services
</td>
<td style="text-align:center;width: 3cm; ">
0,1993
</td>
<td style="text-align:center;width: 3cm; ">
0,1993
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_1
</td>
<td style="text-align:center;width: 11cm; ">
Preserved meat and meat products
</td>
<td style="text-align:center;width: 3cm; ">
0,4776
</td>
<td style="text-align:center;width: 3cm; ">
0,4776
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_2-3
</td>
<td style="text-align:center;width: 11cm; ">
Processed and preserved fish, crustaceans, molluscs, fruit and vegetables
</td>
<td style="text-align:center;width: 3cm; ">
0,5301
</td>
<td style="text-align:center;width: 3cm; ">
0,5301
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_4
</td>
<td style="text-align:center;width: 11cm; ">
Vegetable and animal oils and fats
</td>
<td style="text-align:center;width: 3cm; ">
0,3786
</td>
<td style="text-align:center;width: 3cm; ">
0,3786
</td>
</tr>
</tbody>
</table>
<p>The comparison of output mulitipliers show that our code gives the same results. Only ten industries are shown.</p>
</div>
<div id="gva-effects" class="section level2">
<h2>GVA effects</h2>
<p>GVA is not shown in the Excel table explicitly, but can be calculated as the sum of corporate income (<em>Operating surplus and mixed income</em>), household income (<em>Compensation of employees</em>) and net taxes on proudction (not products.)</p>
<pre class="r"><code>uk_siot2 &lt;- uk_siot %&gt;%
  filter (  prod_na %in% c(&quot;B2A3G&quot;, &quot;D1&quot;, &quot;D29X39&quot;) )  %&gt;%
  summarize_if ( is.numeric, sum, na.rm = TRUE ) %&gt;%
  cbind ( data.frame ( prod_na = &quot;GVA&quot;), . ) %&gt;%
  rbind ( uk_siot, .)

gva_effect_results &lt;- uk_test_results %&gt;%
  select ( uk_row_label, `GVA effects`)

gva_input &lt;- coefficient_matrix_create(
   data_table  = uk_siot2, 
   total       = &#39;output&#39;, 
   return_part = &#39;primary_inputs&#39;) %&gt;%
  filter ( prod_na == &quot;GVA&quot; )

gva_effects &lt;- direct_effects_create( gva_input,
                                      uk_calculated_inverse ) %&gt;%
  gather ( prod, values, !!2:ncol(.)) %&gt;%
  mutate ( prod_na = prod ) %&gt;%
  select ( -prod ) %&gt;%
  left_join ( select ( metadata_uk_2010, prod_na, uk_row_label  ), 
              by = &#39;prod_na&#39;) %&gt;%
  left_join ( gva_effect_results, by = &#39;uk_row_label&#39; ) %&gt;%
  filter ( !is.na(uk_row_label )) %&gt;%
  select ( prod_na, uk_row_label, values, `GVA effects`)

iotables:::create_knitr_table (
      data_table =  gva_effects[1:10,], digits = 4,
      caption = &quot;Comparison of Calculated And Published GVA Effects&quot;, 
      col.names = c(&quot;industry code&quot;, &quot;row label&quot;, &quot;calculated&quot;, &quot;published&quot;), 
      col_width = c(2,11,3,3))</code></pre>
<table class="table table-striped table-hover table-condensed" style="margin-left: auto; margin-right: auto;">
<caption>
(#tab:gva_effects)Comparison of Calculated And Published GVA Effects
</caption>
<thead>
<tr>
<th style="text-align:left;">
industry code
</th>
<th style="text-align:center;">
row label
</th>
<th style="text-align:center;">
calculated
</th>
<th style="text-align:center;">
published
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_01
</td>
<td style="text-align:center;width: 11cm; ">
Products of agriculture, hunting and related services
</td>
<td style="text-align:center;width: 3cm; ">
0,6910
</td>
<td style="text-align:center;width: 3cm; ">
0,6910
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_02
</td>
<td style="text-align:center;width: 11cm; ">
Products of forestry, logging and related services
</td>
<td style="text-align:center;width: 3cm; ">
0,7472
</td>
<td style="text-align:center;width: 3cm; ">
0,7472
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_03
</td>
<td style="text-align:center;width: 11cm; ">
Fish and other fishing products; aquaculture products; support services to fishing
</td>
<td style="text-align:center;width: 3cm; ">
0,7076
</td>
<td style="text-align:center;width: 3cm; ">
0,7076
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_05
</td>
<td style="text-align:center;width: 11cm; ">
Coal and lignite
</td>
<td style="text-align:center;width: 3cm; ">
0,6631
</td>
<td style="text-align:center;width: 3cm; ">
0,6631
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_06-07
</td>
<td style="text-align:center;width: 11cm; ">
Crude petroleum and natural gas &amp; Metal ores
</td>
<td style="text-align:center;width: 3cm; ">
0,9048
</td>
<td style="text-align:center;width: 3cm; ">
0,9048
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_08
</td>
<td style="text-align:center;width: 11cm; ">
Other mining and quarrying products
</td>
<td style="text-align:center;width: 3cm; ">
0,7193
</td>
<td style="text-align:center;width: 3cm; ">
0,7193
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_09
</td>
<td style="text-align:center;width: 11cm; ">
Mining support services
</td>
<td style="text-align:center;width: 3cm; ">
0,8963
</td>
<td style="text-align:center;width: 3cm; ">
0,8963
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_1
</td>
<td style="text-align:center;width: 11cm; ">
Preserved meat and meat products
</td>
<td style="text-align:center;width: 3cm; ">
0,6751
</td>
<td style="text-align:center;width: 3cm; ">
0,6751
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_2-3
</td>
<td style="text-align:center;width: 11cm; ">
Processed and preserved fish, crustaceans, molluscs, fruit and vegetables
</td>
<td style="text-align:center;width: 3cm; ">
0,7251
</td>
<td style="text-align:center;width: 3cm; ">
0,7251
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_4
</td>
<td style="text-align:center;width: 11cm; ">
Vegetable and animal oils and fats
</td>
<td style="text-align:center;width: 3cm; ">
0,5628
</td>
<td style="text-align:center;width: 3cm; ">
0,5628
</td>
</tr>
</tbody>
</table>
</div>
<div id="employment-cost-multipliers" class="section level2">
<h2>Employment cost multipliers</h2>
<p>Turning to multipliers, using the same inputs we get them back with the following code.</p>
<pre class="r"><code>empc_multiplier_results &lt;- uk_test_results %&gt;%
  select ( uk_row_label, `Employment cost multiplier`)

empc_indicator_uk &lt;- coefficient_matrix_create(
   data_table  = uk_siot, 
   total       = &#39;output&#39;, 
   return_part = &#39;primary_inputs&#39;) %&gt;%
   filter ( prod_na == &#39;D1&#39;)

empc_multipliers &lt;- input_multipliers_create(
  input_requirements = empc_indicator_uk,
  uk_calculated_inverse) %&gt;%
  gather ( prod, values, !!2:ncol(.)) %&gt;%
  mutate ( prod_na = prod ) %&gt;%
  select ( -prod ) %&gt;%
  left_join ( select ( metadata_uk_2010, prod_na, uk_row_label  ), 
              by = &#39;prod_na&#39;) %&gt;%
  left_join ( empc_multiplier_results, by = &#39;uk_row_label&#39; ) %&gt;%
  filter ( !is.na(uk_row_label )) %&gt;%
  select ( prod_na, uk_row_label, values, `Employment cost multiplier`)

iotables:::create_knitr_table (
      data_table =  empc_multipliers [1:10,], digits = 4,
      caption = &quot;Comparison of Calculated And Published Employment Cost Multipliers&quot;, 
      col.names = c(&quot;industry code&quot;, &quot;row label&quot;, &quot;calculated&quot;, &quot;published&quot;), 
      col_width = c(2,11,3,3))</code></pre>
<table class="table table-striped table-hover table-condensed" style="margin-left: auto; margin-right: auto;">
<caption>
(#tab:compare_emp_multipliers)Comparison of Calculated And Published Employment Cost Multipliers
</caption>
<thead>
<tr>
<th style="text-align:left;">
industry code
</th>
<th style="text-align:center;">
row label
</th>
<th style="text-align:center;">
calculated
</th>
<th style="text-align:center;">
published
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_01
</td>
<td style="text-align:center;width: 11cm; ">
Products of agriculture, hunting and related services
</td>
<td style="text-align:center;width: 3cm; ">
2,1111
</td>
<td style="text-align:center;width: 3cm; ">
2,1111
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_02
</td>
<td style="text-align:center;width: 11cm; ">
Products of forestry, logging and related services
</td>
<td style="text-align:center;width: 3cm; ">
2,3892
</td>
<td style="text-align:center;width: 3cm; ">
2,3892
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_03
</td>
<td style="text-align:center;width: 11cm; ">
Fish and other fishing products; aquaculture products; support services to fishing
</td>
<td style="text-align:center;width: 3cm; ">
2,7088
</td>
<td style="text-align:center;width: 3cm; ">
2,7088
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_05
</td>
<td style="text-align:center;width: 11cm; ">
Coal and lignite
</td>
<td style="text-align:center;width: 3cm; ">
1,6419
</td>
<td style="text-align:center;width: 3cm; ">
1,6419
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_06-07
</td>
<td style="text-align:center;width: 11cm; ">
Crude petroleum and natural gas &amp; Metal ores
</td>
<td style="text-align:center;width: 3cm; ">
2,2748
</td>
<td style="text-align:center;width: 3cm; ">
2,2748
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_08
</td>
<td style="text-align:center;width: 11cm; ">
Other mining and quarrying products
</td>
<td style="text-align:center;width: 3cm; ">
1,4642
</td>
<td style="text-align:center;width: 3cm; ">
1,4642
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_09
</td>
<td style="text-align:center;width: 11cm; ">
Mining support services
</td>
<td style="text-align:center;width: 3cm; ">
3,3424
</td>
<td style="text-align:center;width: 3cm; ">
3,3424
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_1
</td>
<td style="text-align:center;width: 11cm; ">
Preserved meat and meat products
</td>
<td style="text-align:center;width: 3cm; ">
2,4978
</td>
<td style="text-align:center;width: 3cm; ">
2,4978
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_2-3
</td>
<td style="text-align:center;width: 11cm; ">
Processed and preserved fish, crustaceans, molluscs, fruit and vegetables
</td>
<td style="text-align:center;width: 3cm; ">
1,8343
</td>
<td style="text-align:center;width: 3cm; ">
1,8343
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_4
</td>
<td style="text-align:center;width: 11cm; ">
Vegetable and animal oils and fats
</td>
<td style="text-align:center;width: 3cm; ">
1,6153
</td>
<td style="text-align:center;width: 3cm; ">
1,6153
</td>
</tr>
</tbody>
</table>
</div>
<div id="gva-multipliers" class="section level2">
<h2>GVA multipliers</h2>
<p>Following from the GVA effects, after summarizing GVA and adding it to the input requirements we can calculate the GVA multipliers.</p>
<pre class="r"><code>gva_multipliers &lt;- input_multipliers_create(
  input_requirements = gva_input,
                       uk_calculated_inverse) %&gt;%
  gather ( prod, values, !!2:ncol(.)) %&gt;%
  mutate ( prod_na = prod ) %&gt;%
  select ( -prod ) %&gt;%
  left_join ( select ( metadata_uk_2010, prod_na, uk_row_label  ), 
              by = &#39;prod_na&#39;) %&gt;%
  left_join ( gva_multiplier_results, by = &#39;uk_row_label&#39; ) %&gt;%
  filter ( !is.na(uk_row_label )) %&gt;%
  select ( prod_na, uk_row_label, values, `GVA multiplier`)

iotables:::create_knitr_table (
  data_table =  gva_multipliers [1:10,], digits = 4,
  caption = &quot;Comparison of Calculated And Published GVA Multipliers&quot;, 
  col.names = c(&quot;industry code&quot;, &quot;row label&quot;, &quot;calculated&quot;, &quot;published&quot;), 
  col_width = c(2,11,3,3))

iotables:::create_knitr_table (
  data_table =  gva_multipliers [1:10,], digits = 4,
  caption = &quot;Comparison of Calculated And Published GVA Multipliers&quot;, 
  col.names = c(&quot;industry code&quot;, &quot;row label&quot;, &quot;calculated&quot;, &quot;published&quot;), 
  col_width = c(2,11,3,3))</code></pre>
</div>
<div id="output-multipliers" class="section level2">
<h2>Output multipliers</h2>
<p>At last, the comparison of output mulitipliers show that our code gives the same results. Only ten industries are shown.</p>
<pre class="r"><code>output_multiplier_results &lt;- uk_test_results %&gt;%
  select ( uk_row_label, `Output multiplier`)

uk_output_multipliers &lt;- output_multiplier_create(uk_input_coeff) %&gt;%
  gather ( prod, values, !!2:ncol(.)) %&gt;%
  mutate ( prod_na = prod ) %&gt;%
  select ( -prod ) %&gt;%
  left_join ( select ( metadata_uk_2010, prod_na, uk_row_label  ), 
              by = &#39;prod_na&#39;) %&gt;%
  left_join ( output_multiplier_results, by = &#39;uk_row_label&#39; ) %&gt;%
  filter ( !is.na(uk_row_label )) %&gt;%
  select ( prod_na, uk_row_label, values, `Output multiplier`)

iotables:::create_knitr_table (
      data_table =  uk_output_multipliers [1:10,], digits = 4,
      caption = &quot;Comparison of Calculated And Published Output Multipliers&quot;, 
      col.names = c(&quot;industry code&quot;, &quot;row label&quot;, &quot;calculated&quot;, &quot;published&quot;), 
      col_width = c(2,11,3,3))</code></pre>
<table class="table table-striped table-hover table-condensed" style="margin-left: auto; margin-right: auto;">
<caption>
(#tab:compare_output_multipliers)Comparison of Calculated And Published Output Multipliers
</caption>
<thead>
<tr>
<th style="text-align:left;">
industry code
</th>
<th style="text-align:center;">
row label
</th>
<th style="text-align:center;">
calculated
</th>
<th style="text-align:center;">
published
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_01
</td>
<td style="text-align:center;width: 11cm; ">
Products of agriculture, hunting and related services
</td>
<td style="text-align:center;width: 3cm; ">
1,8312
</td>
<td style="text-align:center;width: 3cm; ">
1,8312
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_02
</td>
<td style="text-align:center;width: 11cm; ">
Products of forestry, logging and related services
</td>
<td style="text-align:center;width: 3cm; ">
2,1187
</td>
<td style="text-align:center;width: 3cm; ">
2,1187
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_03
</td>
<td style="text-align:center;width: 11cm; ">
Fish and other fishing products; aquaculture products; support services to fishing
</td>
<td style="text-align:center;width: 3cm; ">
1,6284
</td>
<td style="text-align:center;width: 3cm; ">
1,6284
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_05
</td>
<td style="text-align:center;width: 11cm; ">
Coal and lignite
</td>
<td style="text-align:center;width: 3cm; ">
1,7891
</td>
<td style="text-align:center;width: 3cm; ">
1,7891
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_06-07
</td>
<td style="text-align:center;width: 11cm; ">
Crude petroleum and natural gas &amp; Metal ores
</td>
<td style="text-align:center;width: 3cm; ">
1,4155
</td>
<td style="text-align:center;width: 3cm; ">
1,4155
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_08
</td>
<td style="text-align:center;width: 11cm; ">
Other mining and quarrying products
</td>
<td style="text-align:center;width: 3cm; ">
1,5231
</td>
<td style="text-align:center;width: 3cm; ">
1,5231
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_09
</td>
<td style="text-align:center;width: 11cm; ">
Mining support services
</td>
<td style="text-align:center;width: 3cm; ">
1,5692
</td>
<td style="text-align:center;width: 3cm; ">
1,5692
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_1
</td>
<td style="text-align:center;width: 11cm; ">
Preserved meat and meat products
</td>
<td style="text-align:center;width: 3cm; ">
2,2693
</td>
<td style="text-align:center;width: 3cm; ">
2,2693
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_2-3
</td>
<td style="text-align:center;width: 11cm; ">
Processed and preserved fish, crustaceans, molluscs, fruit and vegetables
</td>
<td style="text-align:center;width: 3cm; ">
1,9499
</td>
<td style="text-align:center;width: 3cm; ">
1,9499
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_4
</td>
<td style="text-align:center;width: 11cm; ">
Vegetable and animal oils and fats
</td>
<td style="text-align:center;width: 3cm; ">
1,6088
</td>
<td style="text-align:center;width: 3cm; ">
1,6088
</td>
</tr>
</tbody>
</table>
</div>

    </div>

    

    






<div class="media author-card" itemscope itemtype="http://schema.org/Person">
  
  <img class="portrait mr-3" src="/img/portrait.jpg" itemprop="image" alt="Avatar">
  
  <div class="media-body">
    <h5 class="card-title" itemprop="name"><a href="/">Daniel Antal, CFA</a></h5>
    <h6 class="card-subtitle">Experienced management consultant and data scientist</h6>
    
    <ul class="network-icon" aria-hidden="true">
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="/#contact" >
          <i class="fas fa-envelope"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://www.linkedin.com/in/antaldaniel/" target="_blank" rel="noopener">
          <i class="fab fa-linkedin"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://twitter.com/antaldaniel" target="_blank" rel="noopener">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://github.com/antaldaniel" target="_blank" rel="noopener">
          <i class="fab fa-github"></i>
        </a>
      </li>
      
    </ul>
  </div>
</div>




    
    

    

    


  </div>
</article>

<div class="container">
  <footer class="site-footer">
  
  <p class="powered-by">
    <a href="/privacy/">Privacy Policy</a>
  </p>
  

  <p class="powered-by">
    &copy; 2018 &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

</div>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
      

      
      
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
    
    <script src="/js/academic.min.d037ee5294b166a79dec317c58aea9cc.js"></script>

    

  </body>
</html>

